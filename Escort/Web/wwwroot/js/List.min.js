function pauseProfile(n,t){let i=t?"Do you want to pause your account?":"Do you want to publish your account?";swal({title:"Are you sure?",text:i,type:"warning",showCancelButton:!0,confirmButtonColor:"#EC881D",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(async i=>{i?($(".Loading").show(),$.ajax({type:"POST",url:"/establishment/PauseAccount",data:{userId:n,isPause:t},success:function(n){n.data?(toastr.success(n.message),setTimeout(function(){esc.List()},1e3)):toastr.error(n.message);$(".Loading").hide()},error:function(n){$(".Loading").hide();toastr.error(n.responseJSON?.message)}})):i||esc.List()}).catch(()=>{esc.List()})}function ChangeEscortListStatus(n,t,i,r,u){toastr.remove();let e=u.hasAttribute("checked");e?$(u).prop("checked",!0):$(u).prop("checked",!1);let f="";f=r?t?$("#activateEscortMsg").val():$("#deactivateEscortMsg").val():i?$("#deleteEscortMsg").val():$("#recoverEscortMsg").val();swal({title:"Are you sure?",text:f,type:"warning",showCancelButton:!0,confirmButtonColor:"#EC881D",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(function(u){u?$.ajax({url:"/establishment/ChangeEscortListStatus",data:{UserId:n,ActiveStatus:t,DeleteStatus:i,IsActiveStatusChange:r},type:"Post",success:function(n){toastr.success(n.message);setTimeout(function(){esc.List()},1e3)},error:function(n){toastr.error(n.responseJSON?.message)}}):u||esc.List()})}$(function(){$.when(esc.ResetStateSaveDataTable()).then(function(){esc.List()})});let Escorttable=$("#data-table_EscortList"),esc={ResetStateSaveDataTable:function(){common.isReferrer()&&Escorttable.DataTable().state.clear()},List:function(){let n=[];$(Escorttable).find("thead tr th").each(function(t,i){let r=$(i).data("name"),u;switch(r.toLowerCase()){case"id":u={data:null,name:r,render:function(n,t,i,r){return r.row+r.settings._iDisplayStart+1}};break;case"name":u={data:null,name:r,"class":"fw-semibold",mRender:function(n){return`${n.name}`}};break;case"isactive":u={data:null,name:r,mRender:function(n){return n.isActive?`<div class="switchBtn">
                                            <input type="checkbox" hidden="hidden" id="checkbox_${n.id}" checked  onclick="ChangeEscortListStatus(`+n.id+`, false, `+r.toLowerCase().includes("isdeleted")+`, true, this)">
                                            <label class="switch" for="checkbox_${n.id}"></label>
                                        </div>`:`<div class="switchBtn">
                                          <input type="checkbox"  hidden="hidden" id="checkbox_${n.id}" onclick="ChangeEscortListStatus(`+n.id+`, true, `+r.toLowerCase().includes("isdeleted")+`, true, this)">
                                          <label class="switch"  for="checkbox_${n.id}"></label>
                                       </div>`}};break;case"ispaused":u={data:null,name:r,mRender:function(n){return n.isPaused?`<div class="switchBtn">
                                            <input type="checkbox" hidden="hidden" id="pause_${n.id}" checked  onclick="pauseProfile(`+n.id+`, false, this)">
                                            <label class="switch" for="pause_${n.id}"></label>
                                        </div>`:`<div class="switchBtn">
                                          <input type="checkbox"  hidden="hidden" id="pause_${n.id}" onclick="pauseProfile(`+n.id+`, true, this)">
                                          <label class="switch"  for="pause_${n.id}"></label>
                                       </div>`}};break;case"subscription":u={data:null,name:r,mRender:function(n){return n.subscription?"Active":"Inactive"}};break;case"action":u={data:null,name:null,mRender:function(n){return`<a href="/profile/fullProfile?id=${n.id}" class="me-1" onclick = "" title = "details" > <img src="/assets/images/view-icons.svg"/></a >
                            <a href="/profile/edit?id=${n.id}" class="me-1" onclick = "" title = "details" > <img src="/assets/images/edit-icons.svg"/></a >
                            <a href="javascript:void(0)" title="Delete" style="cursor: pointer;" onclick="ChangeEscortListStatus(`+n.id+`, `+n.isActive+`, true, false, this)"><img src="/assets/images/delete-icons.svg" /></a>`}};break;default:u={data:r.charAt(0).toLowerCase()+r.slice(1),name:r,width:"15%"}}n.push(u)});tbl.BindTable(Escorttable,`/establishment/List`,{},n,[0,7,6])}};